
---

### قائمة الكيانات المحدثة:
1. **المستخدمون (Users)**  
2. **المنتجات (Products)**  
3. **الفئات (Categories)**  
4. **الطلبات (Orders)**  
5. **تفاصيل الطلبات (OrderItems)**  
6. **قائمة الرغبات (Wishlist)**  
7. **التقييمات والمراجعات (Reviews)**  
8.  **السياسات (Policies)**

---

### **المستخدمون (Users)**  
جدول لتخزين بيانات المستخدمين (العملاء والمدراء).

| الحقل           | نوع البيانات          | الوصف                                  |
| --------------- | --------------------- | -------------------------------------- |
| `id`            | INT (Primary Key)     | معرف فريد للمستخدم.                    |
| `name`          | VARCHAR(100)          | اسم المستخدم.                          |
| `email`         | VARCHAR(255) UNIQUE   | البريد الإلكتروني (يجب أن يكون فريدًا). |
| `password`      | VARCHAR(255)          | كلمة المرور (مشفرة).                   |
| `phone`         | VARCHAR(20) UNIQUE    | رقم الهاتف (يجب أن يكون فريدًا).        |
| `address`       | TEXT                  | عنوان المستخدم.                        |
| `profile_image` | VARCHAR(255)          | رابط صورة المستخدم.                    |
| `role`          | ENUM('user', 'admin') | دور المستخدم (عميل أو مدير).           |
| `created_at`    | DATETIME              | تاريخ إنشاء الحساب.                    |
| `updated_at`    | DATETIME              | تاريخ آخر تحديث للحساب.                |

---




### **الفئات (Categories)**  
جدول لتخزين فئات المنتجات.

| الحقل                | نوع البيانات      | الوصف                                 |
| -------------------- | ----------------- | ------------------------------------- |
| `id`                 | INT (Primary Key) | معرف فريد للفئة.                      |
| `name`               | VARCHAR(100)      | اسم الفئة.                            |
| `description`        | TEXT              | وصف الفئة.                            |
| `created_at`         | DATETIME          | تاريخ إنشاء الفئة.                    |

---

### **السياسات (Policies)**  
جدول لتخزين سياسات المتجر (الدفع، الشحن، الإرجاع).

| الحقل         | نوع البيانات      | الوصف                                    |
| ------------- | ----------------- | ---------------------------------------- |
| `id`          | INT (Primary Key) | معرف فريد للسياسة.                       |
| `type`        | VARCHAR(50)       | نوع السياسة (دفع، شحن، إرجاع).           |
| `name`        | VARCHAR(100)      | اسم السياسة (مثال: "شحن سريع").          |
| `description` | TEXT              | وصف السياسة (مثال: "توصيل خلال 3 أيام"). |
| `created_at`  | DATETIME          | تاريخ إنشاء السياسة.                     |
| `updated_at`  | DATETIME          | تاريخ آخر تحديث للسياسة.                 |

---

### **المنتجات (Products)**  
جدول لتخزين بيانات المنتجات.

| الحقل                | نوع البيانات      | الوصف                                      |
| -------------------- | ----------------- | ------------------------------------------ |
| `id`                 | INT (Primary Key) | معرف فريد للمنتج.                          |
| `name`               | VARCHAR(255)      | اسم المنتج.                                |
| `short_description`  | VARCHAR(255)      | وصف مختصر للمنتج.                          |
| `long_description`   | TEXT              | وصف طويل مفصل للمنتج.                      |
| `price`              | DECIMAL(10, 2)    | سعر المنتج.                                |
| `stock`              | INT               | الكمية المتاحة في المخزون.                 |
| `shipping_policy_id` | INT (Foreign Key) | معرف سياسة الشحن (يرتبط بجدول السياسات).   |
| `payment_policy_id`  | INT (Foreign Key) | معرف سياسة الدفع (يرتبط بجدول السياسات).   |
| `return_policy_id`   | INT (Foreign Key) | معرف سياسة الإرجاع (يرتبط بجدول السياسات). |
| `category_id`        | INT (Foreign Key) | معرف الفئة التي ينتمي إليها المنتج.        |
| `image_url`          | VARCHAR(255)      | رابط صورة المنتج.                          |
| `created_at`         | DATETIME          | تاريخ إضافة المنتج.                        |

---

###  **قائمة الرغبات (Wishlist)**  
جدول لتخزين المنتجات التي يضيفها المستخدمون إلى قائمة الرغبات.

| الحقل        | نوع البيانات      | الوصف                            |
| ------------ | ----------------- | -------------------------------- |
| `id`         | INT (Primary Key) | معرف فريد للعنصر.                |
| `user_id`    | INT (Foreign Key) | معرف المستخدم.                   |
| `product_id` | INT (Foreign Key) | معرف المنتج.                     |
| `created_at` | DATETIME          | تاريخ الإضافة إلى قائمة الرغبات. |
| `updated_at` | DATETIME          | تاريخ آخر تحديث للعنصر.          |

---

### **الطلبات (Orders)**  
جدول لتخزين بيانات الطلبات.

| الحقل                | نوع البيانات                      | الوصف                          |
| -------------------- | --------------------------------- | ------------------------------ |
| `id`                 | INT (Primary Key)                 | معرف فريد للطلب.               |
| `user_id`            | INT (Foreign Key)                 | معرف المستخدم الذي قام بالطلب. |
| `product_id`         | INT (Foreign Key)                 | معرف المنتج.                   |
| `quantity`           | INT                               | كمية المنتج في الطلب.          |
| `price`              | DECIMAL(10, 2)                    | المبلغ الإجمالي للطلب.         |
| `payment_policy_id`  | INT (Foreign Key)                 | معرف سياسة الدفع المعتمدة.     |
| `shipping_policy_id` | INT (Foreign Key)                 | معرف سياسة الشحن المعتمدة.     |
| `return_policy_id`   | INT (Foreign Key)                 | معرف سياسة الإرجاع المعتمدة.   |
| `card_id`            | INT (Foreign Key)                 | معرف البطاقة المستخدمة للدفع.  |
| `status`             | ENUM('معالجة', 'مشحونة', 'مستلم') | حالة الطلب.                    |
| `created_at`         | DATETIME                          | تاريخ إنشاء الطلب.             |

---

### **جدول سجل بطاقات الدفع**

| الحقل              | نوع البيانات      | الوصف                                |
| ------------------ | ----------------- | ------------------------------------ |
| `id`               | INT (Primary Key) | معرف فريد للبطاقة.                   |
| `user_id`          | INT (Foreign Key) | معرف المستخدم الذي يملك البطاقة.     |
| `card_number`      | VARCHAR(19)       | رقم البطاقة (يُحفظ بشكل مشفر).        |
| `card_holder_name` | VARCHAR(255)      | اسم حامل البطاقة.                    |
| `expiry_date`      | CHAR(5)           | تاريخ انتهاء الصلاحية (MM/YY).       |
| `cvv`              | CHAR(3)           | رمز الحماية (يُحفظ بشكل مشفر).        |
| `billing_address`  | TEXT              | عنوان الفواتير المرتبط بالبطاقة.     |
| `created_at`       | DATETIME          | تاريخ إضافة البطاقة.                 |

---

###  **التقييمات والمراجعات (Reviews)**  
جدول لتخزين تقييمات ومراجعات المستخدمين للمنتجات.

| الحقل        | نوع البيانات      | الوصف                           |
| ------------ | ----------------- | ------------------------------- |
| `id`         | INT (Primary Key) | معرف فريد للتقييم.              |
| `user_id`    | INT (Foreign Key) | معرف المستخدم الذي كتب التقييم. |
| `product_id` | INT (Foreign Key) | معرف المنتج.                    |
| `comment`    | TEXT              | تعليق المستخدم.                 |
| `created_at` | DATETIME          | تاريخ كتابة التقييم.            |
| `updated_at` | DATETIME          | تاريخ آخر تحديث للتقييم.        |

---


###  **جدول وسيط لربط المنتجات بالسياسات (Product_Policies)**  
جدول وسيط لربط المنتجات بالسياسات.

| الحقل        | نوع البيانات      | الوصف                    |
| ------------ | ----------------- | ------------------------ |
| `id`         | INT (Primary Key) | معرف فريد للعلاقة.       |
| `product_id` | INT (Foreign Key) | معرف المنتج.             |
| `policy_id`  | INT (Foreign Key) | معرف السياسة.            |
| `created_at` | DATETIME          | تاريخ إنشاء العلاقة.     |
| `updated_at` | DATETIME          | تاريخ آخر تحديث للعلاقة. |

--- 

إذا كنت بحاجة إلى أي تعديلات إضافية أو توضيحات، فقط أخبرني! 😊

### العلاقات بين الجداول:
1. **المستخدمون (Users)**:
   - يمكن أن يكون له العديد من الطلبات (**Orders**).
   - يمكن أن يكون له العديد من العناصر في قائمة الرغبات (**Wishlist**).
   - يمكن أن يكون له العديد من التقييمات (**Reviews**).

2. **المنتجات (Products)**:
   - ينتمي إلى فئة واحدة (**Categories**).
   - يمكن أن يكون له العديد من التفاصيل في الطلبات (**OrderItems**).
   - يمكن أن يكون له العديد من العناصر في قائمة الرغبات (**Wishlist**).
   - يمكن أن يكون له العديد من التقييمات (**Reviews**).
   - يمكن أن يكون له العديد من السياسات (**Policies**) من خلال الجدول الوسيط (**Product_Policies**).

3. **الطلبات (Orders)**:
   - ينتمي إلى مستخدم واحد (**Users**).
   - يحتوي على العديد من التفاصيل (**OrderItems**).

4. **السياسات (Policies)**:
   - يمكن أن تكون مرتبطة بالعديد من المنتجات (**Products**) من خلال الجدول الوسيط (**Product_Policies**).

---

---
